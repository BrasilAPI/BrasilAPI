{
  "tags": [
    {
      "name": "DDD",
      "description": "Informações relacionadas a DDDs"
    }
  ],
  "paths": {
    "/ddd/v1/{ddd}": {
      "get": {
        "tags": ["DDD"],
        "summary": "Retorna estado e lista de cidades por DDD",
        "description": "Consulta informações sobre um código DDD específico, retornando o estado correspondente e a lista completa de cidades que utilizam esse código de área.",
        "parameters": [
          {
            "name": "ddd",
            "description": "DDD significa Discagem Direta à Distância. É um código constituído por 2 dígitos que identificam as principais cidades do país. Deve ser informado apenas os 2 dígitos do código de área.",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 10,
              "maximum": 99,
              "example": 11
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DDDInfo"
                }
              }
            }
          },
          "400": {
            "description": "Tamanho do DDD inválido",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                },
                "example": {
                  "name": "BadRequestError",
                  "message": "DDD deve conter apenas 2 dígitos",
                  "type": "DDD_INVALID"
                }
              }
            }
          },
          "404": {
            "description": "DDD não encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                },
                "example": {
                  "name": "NotFoundError",
                  "message": "DDD não encontrado",
                  "type": "DDD_NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "description": "Todos os serviços de DDD retornaram erro.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorMessage"
                },
                "example": {
                  "name": "InternalError",
                  "message": "Todos os serviços de DDD retornaram erro.",
                  "type": "service_error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "DDDInfo": {
        "title": "DDD Info",
        "required": ["state", "cities"],
        "type": "object",
        "properties": {
          "state": {
            "type": "string",
            "description": "Sigla do estado (UF) que utiliza o código DDD"
          },
          "cities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Lista das cidades que utilizam este código DDD"
          },
          "nome": {
            "type": "string"
          },
          "regiao": {
            "type": "object",
            "$ref": "#/components/schemas/Region"
          }
        },
        "example": {
          "state": "SP",
          "cities": [
            "EMBU",
            "VÁRZEA PAULISTA",
            "VARGEM GRANDE PAULISTA",
            "VARGEM",
            "TUIUTI",
            "TABOÃO DA SERRA",
            "SUZANO",
            "SÃO ROQUE",
            "SÃO PAULO"
          ]
        }
      }
    }
  }
}
